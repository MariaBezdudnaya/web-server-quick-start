[Назад](../README.md)

Наиболее подробное описание кода:

Этот модуль предоставляет сервисы для работы с конфигурационными данными приложения (ConfigService) и для работы с данными API (DataService).

## SERVICES

Содержит константы, которые определяют сервисы в приложении.

## ConfigService

ConfigService читает и парсит JSON-файл (`./resources/config.json`), который содержит конфигурацию приложения.

## DataService

DataService является сервисом, который взаимодействует с различными API и кэширует данные, полученные из этих API. Эти данные потом можно получить, пользуясь методом `getData(key)`.

### Методы DataService:

- `init({urls})`: Инициализирует сервис. Принимает объект, содержащий URL каждого API. Извлекает все данные и сохраняет их в кэше.
- `getData(key)`: Возвращает данные из кэша по ключу.

### MAPPER

DataService использует MAPPER, который является коллекцией функций для обработки полученных данных. Какую функцию использовать DataService решает в зависимости от ключа, по которому данные хранятся и получаются.

### CACHE

DataService использует CACHE для хранения полученных данных для каждого ключа.

## Мапперы:

- `marketCupMapper(data)`: Принимает объект данных и преобразует его в удобный для использования формат.
- `dayPriceChangePercentMapper(data)`: Принимает объект данных и преобразует его в удобный для использования формат.
- `bitcoinMarketChart(data)`: Принимает массив данных и возвращает его без изменений.

## Использование:

```javascript
import {ConfigService, DataService} from './api.js';

// Создаем сервисы
const configService = ConfigService();
const dataService = DataService();

// Инициализируем DataService
dataService.init(configService());
```