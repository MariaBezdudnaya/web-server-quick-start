# Express Controller README
[Назад](../README.md)

В этом проекте описывается `chartController`, контроллер, которую можно использовать для обработки запросов в Express приложении. Данный контроллер используется для предоставления данных для графиков.

## Описание структуры

`ChartController` создан как модуль, который экспортирует функцию `createChartController`. Эта функция принимает объект Express `app` и добавляет маршруты к этому приложению.

Сервис данных извлекается с помощью механизма внедрения зависимости по ключу `SERVICES.DataService`. Данный сервис предоставляет метод `getData`, который используется для извлечения данных графика по определенному ключу маршрута.

## Маршруты

### GET /api/charts/bitcoin

Этот маршрут возвращает данные графика для Bitcoin.

### GET /api/charts/market-cap-rank

Этот маршрут возвращает данные о ранге капитализации рынка.

### GET /api/charts/markets

Этот маршрут возвращает данные, относящиеся к рыночной капитализации.

## Обработка ошибок

В каждом обработчике маршрута имеется блок `try`/`catch` для обработки ошибок при получении данных сервиса. Если происходит ошибка, она возвращается в ответе с HTTP-статусом 500.

## Использование Swagger для документации API

В данном контролере используются Swagger комментарии для генерации API документации. Эти комментарии предоставляют информацию, которую Swagger может использовать для создания пользовательского интерфейса, описывающего эти API.

## Использование

Чтобы использовать этот контроллер в вашем Express приложении, импортируйте модуль и вызовите функцию `createChartController`, передав в него ваше Express приложение:

```javascript
import {createChartController} from './chartController.js';
const app = express();
createChartController(app);
```

## Требования

Для работы этого контроллера требуется создать метод `getData` в вашем сервисе DataService. Этот метод должен принимать ключ маршрута в качестве аргумента и возвращать соответствующие данные.

# Config Controller README

ConfigController - это контроллер в вашем Express приложении, который предоставляет все необходимые конфигурационные данные приложения.

## Описание структуры

ConfigController реализован в виде модуля, который экспортирует метод `createConfigController`. Этот метод принимает в качестве аргумента объект приложения Express и добавляет маршруты к этому приложению.

Сервис конфигураций извлекается через DI контроллер по ключу `SERVICES.ConfigService`.

## Маршруты

### GET /api/config

Этот маршрут возвращает настройки графиков приложения. Если при попытке извлечения данных конфигурации произошла ошибка, она будет возвращена в ответе клиента с кодом ответа HTTP 500.

## Документирование API с использованием Swagger

Комментарии в контроллере используют Swagger для автоматической генерации документации по API. Это помогает пользователям и разработчикам легко понимать, что делает каждый маршрут.

## Использование

Чтобы использовать этот контроллер в своем Express-приложении, вы должны импортировать модуль и вызвать функцию `createConfigController`, передав в качестве аргумента ваше приложение Express:

```javascript
import {createConfigController} from './configController.js';
const app = express();
createConfigController(app);
```

## Требования

Для работы данного контроллера, убедитесь, что ваш ConfigService имеет метод, который возвращает нужные конфигурационные данные. Это необходимо, чтобы контроллер мог извлечь и возвратить эти данные, когда он обрабатывает запросы к `/api/config`.